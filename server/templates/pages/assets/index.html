{% extends 'layout/base.html' %}

{% load assets_tags %}

{% block content %}
<div class="flex flex-col gap-4">
  {% regroup photos by created.month as monthly_photos %}
  {% for photo in monthly_photos %}
  <div data-controller="masonry">
    <div class="text-2xl mb-4">
      {{ photo.list|get_date|date:"F Y" }}
    </div>
      {% regroup photo.list by created.day as daily_photos %}
      {% for item in daily_photos %}
      <div class="text-base mb-4">
        {{ item.list|get_date|date:"l. d M Y"}}
      </div>
      <div data-controller="lightbox" data-masonry-target="grid">
        {% for image in item.list %}
        <a href="{{image.source.url}}" class="grid-item">
          <img src="{{image.source.url}}" alt="{{image.alt}}">
        </a>
        {% endfor %}
      </div>
      {% endfor %}
  </div>
  {% endfor %}
</div>
{% endblock %}